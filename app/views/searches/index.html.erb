<style>
.load {
	background: transparent url(/assets/load.gif) left top no-repeat;
	width:35px;
	height:35px;
}
.input-prepend .add-on{
	color:#d9230f;
}
</style>

<div class="container">
	<div class="page-header">
		<h2>Start your search</h2>
	</div>
	<!-- Search form goes here. Submitting via ajax.-->
	<div class="row">
		<div class="span12">
			<div class="well">
				<%= form_tag searches_path, :method => "post", :class=>"form-inline", :name=>"extLoad",  :remote=> true  do %>
				<div class="input-prepend">
					<span class="add-on">#</span>

					<% if params[:search].nil? == true%>
					<%=text_field_tag 'search', nil, :placeholder => 'Election2012' ,:class=>"span10"%>
					<%else%>
					<%=text_field_tag 'search', nil, :value => params[:search],:class=>"span10"%>
					<%end%>

				</div>
				<%= button_tag(:type => 'submit', :class => 'btn btn-primary' , :id => "load") do %>
				<i class="icon-search icon-large" style="color:white"></i>
				<% end %>
				<% end %>

			</div>
		</div>
	</div>

	<!-- Content for twitter and Instagram gets replaced here-->
	<div id="main" role="main">
		<ul id="tiles">
			<div class="twitter_results"></div>
			<div class="instagram_results"></div>
		</ul>
	</div>
	




	<!-- loading the spinner. Right now its on a timeout. More elegant solution can be implmented-->
	<div class="span3 offset4 load"></div>
	<script>
	$("div.load").hide();

	$("#load").click(function(){
		$("div.load").show();
	});

	setTimeout(function() {

		$("div.load").hide();
		}, 3000);
		</script>

		<!-- Submitting form when querying from the home page-->
		<% if params[:search].nil? == true%>
		<%else%>
		<script>
		$(document).ready(function () {
			$(extLoad).submit();
			$("div.load").show();
			setTimeout(function() {
				$("div.load").hide();

				}, 6500);
			});
			</script>
			<%end%>
		</div>